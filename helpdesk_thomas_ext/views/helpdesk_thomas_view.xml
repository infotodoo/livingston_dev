<odoo>
    <data>
        <record id="helpdesk_ticket_thomas_form" model="ir.ui.view">
            <field name="name">helpdesk.ticket.thomas.form</field>
            <field name="model">helpdesk.ticket</field>
            <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_form" />
            <field name="arch" type="xml">
                <header>
                    <button string="Avanzar etapa" type="object" name="action_stage_next"
                             class="oe_highlight" />
                    <button string="Retroceder etapa" type="object" name="action_stage_return"
                             class="oe_highlight"/>  
                    <button string="CANCELAR" type="object" name="action_stage_cancel"
                             class="oe_highlight"/>
                </header>
                <xpath expr="//form[1]/sheet[1]/group[1]/group[1]" position="attributes">
                    <attribute name="string">Diligencie la siguiente información:</attribute>
                </xpath>

                <xpath expr="//field[@name='company_id']" position="attributes">
                    <attribute name="attrs">{}</attribute>
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='team_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                
                <xpath expr="//field[@name='stage_id']" position="attributes">
                    <attribute name="options">{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}</attribute>
                </xpath>

                <xpath expr="//field[@name='ticket_type_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='email_cc']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='priority']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='partner_email']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                
                <xpath expr="//field[@name='partner_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='user_id']" position="attributes">
                    <attribute name="attrs">{'invisible':[('state_record', '=', 'NUEVO')]}</attribute>
                </xpath> 
                <xpath expr="//field[@name='partner_name']" position="attributes">
                    <attribute name="attrs">{'invisible':[('state_record', '=', 'NUEVO')]}</attribute>
                </xpath> 

                <xpath expr="//field[@name='tag_ids']" position="replace" >
                    <field name="team_label" string="Label estado" invisible='True'/> 
                    <field name="service_id_label" string="Label estado" invisible='True'/>
                    <field name="sub_service_id_label" string="Label estado" invisible='True'/>
                    <field name="check_file_document" string="Cumplió SLA" invisible='True'/>
                    <field name="check_ans_fecha" string="Cumplió SLA" invisible='True'/>
                    <field name="ticket_type" string="Tipo de Ticket" widget="radio"  options="{&quot;horizontal&quot;:true}"  attrs="{'invisible':[('team_label', '=', 'MESA DE AYUDA SEGURIDAD')], 'required':[('team_label', '!=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                    <field name="service_id" string="Servicio" required='True' options = "{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}"/>
                    <field name="state_record" string="Estado label" invisible='True'/>
                    <field name="subservice_id" string="Subservicio"  attrs="{'invisible':[('service_id', '=', False)], 'required':[('service_id', '=', True)]}" required='True' options = "{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}"/>
                    <field name="producto_entregar" string="Producto a entregar y/o recolectar" attrs="{'required':[('service_id_label', '=', 'RECOLECCIÓN Y ENTREGAS DE SEGURIDAD')],'invisible':[('service_id_label', '!=', 'RECOLECCIÓN Y ENTREGAS DE SEGURIDAD')]}"/>
                    <field name="activity_id" string="Problema/Actividad" options = "{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}" attrs="{'invisible':['|','|','|',('ticket_type', '=', False),('team_label', '=', 'MESA DE AYUDA SEGURIDAD'),('subservice_id', '=', False)], 'required':['|','|',('team_label', '!=', 'MESA DE AYUDA SEGURIDAD'),('team_label', '!=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                    <field name="urgency" string="Urgencia" required='True'/>
                    <field name="material" string="Material" attrs="{'invisible':[('service_id_label', '!=', 'ASEGURAMIENTO DE PRODUCTOS')], 'required':[('service_id_label', '=', 'ASEGURAMIENTO DE PRODUCTOS')]}"/>
                    <field name="registro_personas_adjunto" string="Producto/Muestras/Articulo" attrs="{'invisible':[('service_id_label', '!=', 'MUESTRAS')], 'required':[('service_id_label', '=', 'MUESTRAS')]}"/>
                    <field name="clase_anulado" string="Clase de Anulado" attrs="{'invisible':[('service_id_label', '!=', 'MUESTRAS')], 'required':[('service_id_label', '=', 'MUESTRAS')]}"/>
                    <field name="entregar" string="Entregar a" attrs="{'invisible':[('service_id_label', '!=', 'MUESTRAS')], 'required':[('service_id_label', '=', 'MUESTRAS')]}"/>
                    <field name="area_ingreso" string="Área de ingreso" attrs="{'required':[('service_id_label', '=', 'INGRESO COMPAÑÍA VISITANTES')],'invisible':[('service_id_label', '!=', 'INGRESO COMPAÑÍA VISITANTES')]}"/>
                    <field name="fecha_ingreso" string="Fecha y hora de ingreso" attrs="{'required':[('service_id_label', '=', 'INGRESO COMPAÑÍA VISITANTES')],'invisible':[('service_id_label', '!=', 'INGRESO COMPAÑÍA VISITANTES')]}"/>
                    <field name="fecha_salida" string="Fecha y hora de Salida" attrs="{'required':[('service_id_label', '=', 'INGRESO COMPAÑÍA VISITANTES')],'invisible':[('service_id_label', '!=', 'INGRESO COMPAÑÍA VISITANTES')]}"/>
                    <field name="registro_personas" string="Registro de personas" attrs="{'required':['|',('area_ingreso', '=', 'administrativa'),('service_id_label', '=', 'INGRESO COMPAÑÍA VISITANTES')],'invisible':['|',('area_ingreso', '!=', 'administrativa'),('service_id_label', '!=', 'INGRESO COMPAÑÍA VISITANTES')]}"/>
                    <field name="registro_personas_adjunto" string="Registro de personas (Recuerde adjuntar la o las planillas de para-fiscales)" attrs="{'required':['|',('area_ingreso', '=', 'planta'),('service_id_label', '=', 'INGRESO COMPAÑÍA VISITANTES')],'invisible':['|',('area_ingreso', '!=', 'planta'),('service_id_label', '!=', 'INGRESO COMPAÑÍA VISITANTES')]}"/>
                    <field name="cliente" string="Cliente" attrs="{'required':[('service_id_label', '=', 'INFORME ANÁLISIS DE AUTENTICIDAD')],'invisible':[('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="producto" string="Producto" attrs="{'required':[('service_id_label', '=', 'INFORME ANÁLISIS DE AUTENTICIDAD')],'invisible':[('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="ubicacion_producto" string="Ubicación o dirección del producto" attrs="{'required':[('service_id_label', '=', 'INFORME ANÁLISIS DE AUTENTICIDAD')],'invisible':[('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="fecha_solicitada_recoleccion" string="Fecha solicitada para recoleción" attrs="{'required':[('service_id_label', '=', 'INFORME ANÁLISIS DE AUTENTICIDAD')],'invisible':[('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="producto_articulo" string="Producto/articulo" attrs="{'required':[('service_id_label', '=', 'ORDENES DE SALIDA')],'invisible':[('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="nombre_persona_retira" string="Nombre de la persona que retira" attrs="{'required':[('service_id_label', '=', 'ORDENES DE SALIDA')],'invisible':[('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="destino" string="Destino" attrs="{'required':[('service_id_label', '=', 'ORDENES DE SALIDA')],'invisible':[('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="departament" string="Departamento" attrs="{'invisible':[('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                    <field name="request_contact" string="Solicitud de tercero:" options = "{'no_open': true, 'no_quick_create': true ,'no_create_edit': true,'no_create':true}" attrs="{'invisible':[('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                    <field filename="format_archive_filename" name="format_archive" string="Adjunte el formato requerido" attrs="{'invisible':[('check_file_document', '=', False)], 'required':[('check_file_document', '=', True)]}"/>
                    <field name="ans_datetime" string="Seleccione la fecha en la que se debe cumplir el ANS" attrs="{'invisible': [('check_ans_fecha', '=', False)], 'required': [('check_ans_fecha', '!=', False)]}"/>
                    <field name="solicitud_almacenamiento" string="Solicitud de Almacenamiento hasta:" attrs="{'required':[('sub_service_id_label', '=', 'CUSTODIA EN BOVEDA Y/O CAJA FUERTE')],'invisible':[('sub_service_id_label', '!=', 'CUSTODIA EN BOVEDA Y/O CAJA FUERTE')]}"/>
                    <field name="sla_check" string="Cumplió SLA" attrs="{'invisible': ['|',('state_record', 'not in', ['SOLUCIONADO','CERRADO','CANCELADO']),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>

               <!--     <label for="start_time" string="Tiempos estiamdos en cada etapa" groups='helpdesk_thomas.managament_helpdesk'/>
                        <field name="date_aper" string="Fecha de Apertura" groups='helpdesk_thomas.managament_helpdesk'/>
                        <field name="tiempo_1ra_aprobacion" string="Tiempo etapa Nuevo"  readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="fecha_hora_2da_aprobacion" string="Fecha inicio en Revisión"  readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="tiempo_2da_aprobacion" string="Tiempo en Revisión"  readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="fecha_hora_3ra_aprobacion" string="Fecha inicio Aprobación Segurinfor" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="tiempo_3ra_aprobacion" string="Tiempo Aprobación Segurinfor" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="fecha_hora_aprobada_cliente" string="Fecha inicio En espera" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="tiempo_aprobada_cliente" string="Tiempo En Espera" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="fecha_hora_aprobacion" string="Fecha Inicio en Gestión" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="tiempo_aprobada" string="Tiempo en Gestión" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="fecha_hora_finalizada" string="Fecha escalada a terceros" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                        <field name="tiempo_hora_finalizada" string="Tiempo en Escalado a terceros" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/>-->
                        <field name="fecha_hora_solucion" string="Fecha y hora de solución" readonly="True" attrs="{'invisible':['|',('state_record', '!=', 'SOLUCIONADO'),('team_label', '!=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="fecha_hora_solucion_2" string="Fecha y hora de solución" readonly="True" attrs="{'invisible':['|',('state_record', '!=', 'SOLUCIONADO'),('team_label', '!=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                     <!-- <field name="tiempo_total" string="Tiempo Total" readonly="True"/> -->
                    
                <!--    <label for="start_time" string="Tiempos estiamdos en cada etapa" groups='helpdesk_thomas.managament_helpdesk'/>
                        <field name="date_aper" string="Fecha de Apertura" groups='helpdesk_thomas.managament_helpdesk'/>
                        <field name="tiempo_1ra_aprobacion_2" string="Tiempo en recepción"  readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="fecha_hora_2da_aprobacion_2" string="Fecha inicio Autorizacion o aprobaciones"  readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="tiempo_2da_aprobacion_2" string="Tiempo en Autorizacion o aprobaciones"  readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="fecha_hora_3ra_aprobacion_2" string="Fecha inicio Verificación" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="tiempo_3ra_aprobacion_2" string="Tiempo Verificación" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="fecha_hora_aprobada_cliente_2" string="Fecha inicio Devolución" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="tiempo_aprobada_cliente_2" string="Tiempo En Devolución" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="fecha_hora_aprobacion_2" string="Fecha Inicio en Tercero" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="tiempo_aprobada_2" string="Tiempo en Tercero" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="fecha_hora_finalizada_2" string="Fecha en Rechazar" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="tiempo_hora_finalizada_2" string="Tiempo en Rechazar" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible': [('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/>
                        <field name="tiempo_total" string="Tiempo Total" readonly="True" groups='helpdesk_thomas.managament_helpdesk' attrs="{'invisible':[('team_label', '=', 'MESA DE AYUDA TECNOLOGÍA')]}"/> -->
                </xpath>

                <xpath expr="//field[@name='partner_id']" position="before">
                    
                    <field name="solicitud_video_aprobado" string="Solicitud de video Aprobado" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN']),('service_id_label', '!=', 'SOLICITUD VIDEOS')]}"/>
                    <field name="video_aprobado_entrega" string="Solicitud de video Aprobado" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'SOLICITUD VIDEOS')]}"/>
                    <field name="aprobado_gerencia" string="Aprobado por gerencia de seguridad" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN']),('service_id_label', '!=', 'MUESTRAS')]}"/>
                    <field name="aprobado_gerencia_seguridad" string="Aprobado por gerencia de seguridad" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN']),('service_id_label', '!=', 'MUESTRAS')]}"/>
                    <field name="aprobado_laboratorio" string="Aprobado por laboratorio" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'MUESTRAS')]}"/>
                    <field name="notas_desaprobacion_laboratorio" string="Notas de desaprobación laboratorio" attrs="{'invisible': ['|','|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'MUESTRAS'),('aprobado_laboratorio', '=', True)]}"/>
                    <field name="requiere_devolucion" string="Requiere devolución" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)','VERIFICACIÓN (SEGURIDAD. LABORATORIO)']),('service_id_label', '!=', 'MUESTRAS')]}"/>
                    <field name="fecha_devolucion_muestra" string="Fecha y hora de devolución de la muestra" attrs="{'invisible': ['|','|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)','VERIFICACIÓN (SEGURIDAD. LABORATORIO)']),('service_id_label', '!=', 'MUESTRAS'),('requiere_devolucion', '!=', True)]}"/>
                    <field name="numeracion" string="Numeración" attrs="{'required':[('sub_service_id_label', '=', 'LOTERIA')],'invisible':[('sub_service_id_label', '!=', 'LOTERIA')]}"/>
                    <field name="no_sorteo" string="No. del sorteo" attrs="{'required':[('sub_service_id_label', '=', 'LOTERIA')],'invisible':[('sub_service_id_label', '!=', 'LOTERIA')]}"/>
                    <field name="serie" string="Serie" attrs="{'required':[('sub_service_id_label', '=', 'LOTERIA')],'invisible':[('sub_service_id_label', '!=', 'LOTERIA')]}"/>
                    <field name="fraccion" string="Fracción" attrs="{'required':[('sub_service_id_label', '=', 'LOTERIA')],'invisible':[('sub_service_id_label', '!=', 'LOTERIA')]}"/>
                    <field name="aprobado_gerencia_seguridad" string="Aprobado por gerencia de seguridad" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="aprobado_jede_departamento" string="Aprobado por jefe de departamento" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN']), ('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="aprobado_seguridad" string="Aprobado por Seguridad" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN']), ('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="porteria" string="Portería" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN', 'AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)','VERIFICACIÓN (SEGURIDAD. LABORATORIO)']), ('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="devolutivo" string="Devolutivo" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN', 'AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)','VERIFICACIÓN (SEGURIDAD. LABORATORIO)']), ('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="fecha_devolucion" string="Fecha de devolucion" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN', 'AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)','VERIFICACIÓN (SEGURIDAD. LABORATORIO)']), ('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="vigilantes_id" string="Vigilante que verifica salida" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN', 'AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)','VERIFICACIÓN (SEGURIDAD. LABORATORIO)']), ('service_id_label', '!=', 'ORDENES DE SALIDA')]}"/>
                    <field name="material_requiere" string="Material requiere investigación" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'ASEGURAMIENTO DE PRODUCTOS')]}"/>
                    <field name="reporte_indemnidad" string="Reporte de imdemnidad" attrs="{'invisible':[('material_requiere', '=', False)], 'required':[('material_requiere', '=', True)]}"/>
                    <field name="acta_destruccion" string="Acta de destrucción" attrs="{'invisible': ['|',('state_record', 'not in', ['DEVOLUCIÓN / DESTRUCCIÒN / ENTREGA']),('service_id_label', '!=', 'ASEGURAMIENTO DE PRODUCTOS')]}"/>
                    <field name="producto_incompleto" string="Producto incompleto, auntentico" attrs="{'invisible':[('material_requiere', '=', False)], 'required':[('material_requiere', '=', True)]}"/>
                    <field name="fecha_programacion" string="Fecha y hora de programación" attrs="{'invisible': ['|',('state_record', 'not in', ['VERIFICACIÓN (SEGURIDAD. LABORATORIO)','DEVOLUCIÓN / DESTRUCCIÒN / ENTREGA','EN TERCERO','RECHAZADO', 'SOLUCIONADO', 'CERRADO', 'CANCELADO']), ('service_id_label', '!=', 'RECOLECCIÓN Y ENTREGAS DE SEGURIDAD')]}"/>
                    <field name="escolta_asignado_id" string="Escolta Asignado para la recolección" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']), ('service_id_label', '!=', 'RECOLECCIÓN Y ENTREGAS DE SEGURIDAD')]}"/>
                    <field name="escolta_asignado_id" string="Escolta Asignado" attrs="{'invisible': ['|',('state_record', 'not in', ['VERIFICACIÓN (SEGURIDAD. LABORATORIO)','DEVOLUCIÓN / DESTRUCCIÒN / ENTREGA','EN TERCERO','RECHAZADO', 'SOLUCIONADO', 'CERRADO', 'CANCELADO']), ('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="analisis_tecnologia" string="*Análisis de tecnología" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']), ('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_codigo_barras" string="1. VERIFICACION CODIGO DE BARRAS: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_codigo_control" string="2. VERIFICACION CODIGO DE CONTROL: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_distribuidor" string="3. VERIFICACION DEL DISTRIBUIDOR: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_sorteo" string="4. VERIFICACION SORTEO: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_billete" string="5. VERIFICACION N° DE BILLETE: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_serie" string="6. VERIFICACION SERIE: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_variable" string="7. VER INF.VARIABLE TIRA DE CONTROL: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="tira_control_virtual" string="8. TIRA CONTROL VIRTUAL: " attrs="{'invisible': ['|','|',('analisis_tecnologia', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="analisis_preprensa" string="*Análisis por preprensa" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']), ('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="fondos_especiales" string="A. FONDOS ESPECIALES UTILIZADOS " attrs="{'invisible': ['|','|',('analisis_preprensa', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="antifotocopias" string="B. ANTIFOTOCOPIAS NULO " attrs="{'invisible': ['|','|',('analisis_preprensa', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_microtextos" string="C. VERIFICACION MICROTEXTOS" attrs="{'invisible': ['|','|',('analisis_preprensa', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="verificacion_impresion" string="D. VERIFICACION DE LA IMPRESIÓN LITOGRAFICA" attrs="{'invisible': ['|','|',('analisis_preprensa', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="cremocromaticas" string="E. CREMOCROMATICAS" attrs="{'invisible': ['|','|',('analisis_preprensa', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="analisis_laboratorio" string="*Análisis de Laboratorio" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']), ('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="fluorescente_invisible" string="A. FONDOS ESPECIALES UTILIZADOS " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="fluorescente_visible" string="B. FLUORESCENTE VISIBLE " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="fluoranulado" string="C. FLUORANULADO " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="reactivo_moneda" string="D. REACTIVO A LA MONEDA " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="anulado" string="E. ANULADO " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="sensible_borrado" string="F. SENSIBLE AL BORRADO " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="termocromicas" string="G. TERMOCROMICAS " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="fotocromaticas" string="H. FOTOCROMATICAS " attrs="{'invisible': ['|','|',('analisis_laboratorio', '=', False),('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="analisis_realizado" string="Análisis realizado por " attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="cargo" string="Cargo" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)']),('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    <field name="escolta_asignado_entrega_id" string="Escolta Asignado para la entrega" attrs="{'invisible': ['|',('state_record', 'in', ['REVISIÓN','AUTORIZACIÓN O APROBACIONES (SOLICITANTE, SEGURINFO, SEGURIDAD, COMERCIAL, OPERACIONES, TGSC)','VERIFICACIÓN (SEGURIDAD. LABORATORIO)']), ('service_id_label', '!=', 'INFORME ANÁLISIS DE AUTENTICIDAD')]}"/>
                    
                    <field name="link_video" string="Link de video" attrs="{'invisible': ['|',('state_record', 'not in', ['DEVOLUCIÓN / DESTRUCCIÒN / ENTREGA']), ('service_id_label', '!=', 'ASEGURAMIENTO DE PRODUCTOS')]}"/>
                    <field name="group_users_id" string="Asignado al grupo" attrs="{'invisible':['|',('state_record', '=', 'NUEVO'),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}"/> 
                    <xpath expr="//field[@name='user_id']" position="move"/>
                    <field name="material_type" attrs="{'invisible':['|',('state_record', '=', 'NUEVO'),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}" groups='helpdesk_thomas_ext.managament_helpdesk'/>
                    <field name="required_information_ticket" string="Información requerida en el ticket esta completa" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible':['|',('state_record', '=', 'NUEVO'),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}" />
                </xpath>

                <xpath expr="//field[@name='description']" position="attributes">
                    <attribute name="attrs">{"required": [["team_id","=",1]]}</attribute>
                    <attribute name="placeholder">Describa con sus palabras la solicitud</attribute>
                    <attribute name="string">Detalle del Ticket</attribute>
                </xpath>

                <xpath expr="//field[@name='partner_name']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='partner_email']" position="after">
                    <field name="priority" widget="priority" string="Prioridad:" attrs="{'invisible':['|',('state_record', '=', 'NUEVO'),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')], 'required':['|',('state_record', '!=', 'NUEVO'),('team_label', '!=', 'MESA DE AYUDA SEGURIDAD')]}"/>
                    <field name="info_security" string="Requiere aprobación de Seguridad de la información" attrs="{'invisible':['|',('state_record', '=', 'NUEVO'),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}" />
                    <field name="resolved" string="Resuelto" widget='radio' options="{&quot;horizontal&quot;:true}" attrs="{'invisible':['|',('state_record', '!=', 'SOLUCIONADO'),('team_label','=','MESA DE AYUDA SEGURIDAD')], 'required':['|',('state_record', '=', 'SOLUCIONADO'),('team_label','!=','MESA DE AYUDA SEGURIDAD')]}"/>
                    <field name="info_security_scale" string="Escalar a seguridad de la información" widget='radio' attrs="{'invisible':['|',('state_record', '=', 'NUEVO'),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}" options="{&quot;horizontal&quot;:true}" />
                    <field name="description_solution" string="Describa la solución de ticket" attrs="{'invisible':['|',('state_record', '!=', 'SOLUCIONADO'),('team_label', '=', 'MESA DE AYUDA SEGURIDAD')]}" />
                </xpath>

            </field>
        </record>

        <record id="helpdesk_ticket_view_tree" model="ir.ui.view">
            <field name="name">helpdesk.ticket.thomas.tree</field>
            <field name="model">helpdesk.ticket</field>
            <field name="inherit_id" ref="helpdesk.helpdesk_ticket_view_kanban"/>
            <field name="arch" type="xml">
                <kanban>
                   
                </kanban>
            </field>
        </record>

        <record id="helpdesk_ticket_view_kanban" model="ir.ui.view">
            <field name="name">helpdesk.ticket.thomas.kanban</field>
            <field name="model">helpdesk.ticket</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="team_label" invisible='True'/> 
                    <field name="team_id" invisible="1"/>
                    <field name="name" string="Ticket Name"/>
                    <field name="date_aper" optional="show" />
                    <field name="partner_id" optional="show"/>
                    <field name="stage_id" optional="show"/>
                    <field name="ticket_type" optional="show" />
                    <field name="urgency" optional="show"/>
                    <field name="sla_check" optional="show"/>
                    <field name="request_contact" optional="hide"/>
                    <field name="service_id" optional="hide"/>
                    <field name="subservice_id" optional="hide"/>
                    <field name="priority" optional="hide"/>
                    <field name="group_users_id" optional="hide"/>
                    <field name="tiempo_total" string="Duración Total" optional="hide"/>
                    <field name="tiempo_2da_aprobacion" string="Tiempo en revisión" optional="hide"/>
                    <field name="tiempo_3ra_aprobacion" string="Tiempo Aprobación Segurinfor" optional="hide"/>
                    <field name="tiempo_aprobada_cliente" string="Fecha inicio En espera" optional="hide"/>
                    <!--<field name="tiempo_aprobada" string="Tiempo En Espera" optional="hide"/>-->
                    <field name="tiempo_hora_finalizada" string="Fecha escalada a terceros" optional="hide"/>
                    <field name="fecha_hora_solucion" optional="hide"/>
                    <field name="info_security" optional="hide"/>
                    <field name="required_information_ticket" optional="hide"/>
                    <field name="material_type" optional="hide"/>
                    <field name="group_users_id" optional="hide"/>
                    <field name="tag_ids" optional="hide" widget="many2many_tags"/>
                    <field name="company_id" groups="base.group_multi_company" optional="show"/>
                    <field name="activity_exception_decoration" widget="activity_exception"/>
                </tree>
            </field>
        </record>
        
        <record id="helpdesk_ticket_view_form_inherit_hidden_sale" model="ir.ui.view">
            <field name='name'>helpdesk.ticket.form.inherit.hidden.sale</field>
            <field name="model">helpdesk.ticket</field>
            <field name="inherit_id" ref="helpdesk_sale.helpdesk_ticket_view_form_inherit_helpdesk_invoicing"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='sale_order_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>

        <record model="ir.actions.act_window" id="helpdesk_ticket_kanban_action">
            <field name="name">Tickets kanban</field>
            <field name="res_model">helpdesk.ticket</field>
            <field name="view_mode">kanban,form,tree</field>
        </record>

    </data>
</odoo>
